{"ast":null,"code":"var _jsxFileName = \"C:\\\\REACT\\\\my-app\\\\src\\\\pages\\\\Users.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport Auth from \"../middleware/Auth\";\n\nfunction Users() {\n  const [users, setUsers] = useState({\n    data: []\n  });\n  const clearedForm = {\n    name: \"\",\n    job: \"\"\n  };\n  const [form, setform] = React.useState(clearedForm);\n  const [error, seterror] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n  const history = useHistory();\n\n  function handleChange(e) {\n    setform({ ...form,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleForm(e) {\n    e.preventDefault();\n    seterror(\"\");\n    setIsLoading(true); // paypal . stripe . raszorpay\n    // testing key, secret\n    // live key, secret\n\n    Axios.post(\"/api/users?delay=1\", form).then(res => {\n      setUsers({ ...users,\n        data: [...users.data, {\n          name: res.data.name\n        }]\n      });\n      setform(clearedForm);\n      setIsLoading(false);\n    }).catch(err => {\n      setIsLoading(false);\n      seterror(err.response.data.error);\n    });\n  }\n\n  useEffect(() => {\n    const getData = async () => {\n      const {\n        data\n      } = await Axios.get(`/api/unknown`);\n      setUsers(data);\n    };\n\n    getData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, users.data.map((user, i) => /*#__PURE__*/React.createElement(\"section\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mx-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, user.name)))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"mt-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex justify-between\",\n    onSubmit: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter your name\",\n    className: \"p-2 border border-gray-800 w-64\",\n    value: form.name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"job\",\n    placeholder: \"Enter your Job\",\n    className: \"p-2 border border-gray-800 w-64\",\n    value: form.job,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: `w-64 text-white p-2 ${isLoading ? \"bg-blue-500\" : \"bg-blue-700\"}`,\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-circle-notch fa-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }) : \"Add\"))));\n}\n\nexport default Auth(Users);","map":{"version":3,"sources":["C:/REACT/my-app/src/pages/Users.js"],"names":["React","useEffect","useState","Axios","useHistory","Auth","Users","users","setUsers","data","clearedForm","name","job","form","setform","error","seterror","isLoading","setIsLoading","history","handleChange","e","target","value","handleForm","preventDefault","post","then","res","catch","err","response","getData","get","map","user","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Auth from \"../middleware/Auth\";\r\n\r\nfunction Users() {\r\n  const [users, setUsers] = useState({ data: [] });\r\n  const clearedForm = { name: \"\", job: \"\" };\r\n  const [form, setform] = React.useState(clearedForm);\r\n  const [error, seterror] = React.useState(\"\");\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  function handleChange(e) {\r\n    setform({ ...form, [e.target.name]: e.target.value });\r\n  }\r\n  function handleForm(e) {\r\n    e.preventDefault();\r\n    seterror(\"\");\r\n    setIsLoading(true);\r\n    // paypal . stripe . raszorpay\r\n    // testing key, secret\r\n    // live key, secret\r\n    Axios.post(\"/api/users?delay=1\", form)\r\n      .then((res) => {\r\n        setUsers({ ...users, data: [...users.data, { name: res.data.name }] });\r\n        setform(clearedForm);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        seterror(err.response.data.error);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const { data } = await Axios.get(`/api/unknown`);\r\n      setUsers(data);\r\n    };\r\n    getData();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {users.data.map((user, i) => (\r\n        <section key={i}>\r\n          <div className=\"flex \">\r\n            <p className=\"mx-2 \">{user.name}</p>\r\n            {/* <p className=\"mx-2 \">{user.email}</p> */}\r\n          </div>\r\n        </section>\r\n      ))}\r\n      <section className=\"mt-10\">\r\n        <form className=\"flex justify-between\" onSubmit={handleForm}>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Enter your name\"\r\n              className=\"p-2 border border-gray-800 w-64\"\r\n              value={form.name}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"\">\r\n            <input\r\n              type=\"text\"\r\n              name=\"job\"\r\n              placeholder=\"Enter your Job\"\r\n              className=\"p-2 border border-gray-800 w-64\"\r\n              value={form.job}\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <button\r\n            className={`w-64 text-white p-2 ${\r\n              isLoading ? \"bg-blue-500\" : \"bg-blue-700\"\r\n            }`}\r\n            disabled={isLoading}\r\n          >\r\n            {isLoading ? (\r\n              <i className=\"fas fa-circle-notch fa-spin\"></i>\r\n            ) : (\r\n              \"Add\"\r\n            )}\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Auth(Users);"]},"metadata":{},"sourceType":"module"}