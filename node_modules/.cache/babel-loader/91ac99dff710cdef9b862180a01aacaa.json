{"ast":null,"code":"var _jsxFileName = \"C:\\\\REACT\\\\my-app\\\\src\\\\pages\\\\Login.js\";\nimport React, { useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport Guest from \"../middleware/Guest\";\nimport GlobalContext from \"../store/global\";\n\nfunction Login() {\n  const [, dispatch] = useContext(GlobalContext);\n  const history = useHistory();\n  const [form, setform] = React.useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, seterror] = React.useState(\"\");\n  const [isLoading, setIsLoading] = React.useState(false);\n\n  function handleChange(e) {\n    setform({ ...form,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleForm(e) {\n    e.preventDefault();\n    seterror(\"\");\n    setIsLoading(true);\n    axios.post(\"/api/login?delay=1\", form).then(res => {\n      Cookies.set(\"token\", res.data.token);\n      dispatch({\n        type: \"SET_LOGIN\",\n        payload: res.data.token\n      });\n      history.push(\"/\"); // window.location.href = \"/\";\n      // setIsLoading(false);\n    }).catch(err => {\n      setIsLoading(false);\n      seterror(err.response.data.error);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"w-1/2 bg-gray-100 border rounded shadow py-10 text-center\",\n    onSubmit: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-3xl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Login Here\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"my-5 text-red-700 text-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, error), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"sakshi@206@gmail.com\",\n    placeholder: \"Enter your email\",\n    className: \"p-2 border border-gray-800 w-64\",\n    value: form.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-5 flex justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"12345\",\n    placeholder: \"Enter your password\",\n    className: \"p-2 border border-gray-800 my-4 w-64\",\n    onChange: handleChange,\n    value: form.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: `w-64 text-white p-2 my-5 ${isLoading ? \"bg-blue-500\" : \"bg-blue-700\"}`,\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-circle-notch fa-spin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }) : \"Login\")));\n}\n\nexport default Guest(Login);","map":{"version":3,"sources":["C:/REACT/my-app/src/pages/Login.js"],"names":["React","useContext","axios","useHistory","Cookies","Guest","GlobalContext","Login","dispatch","history","form","setform","useState","email","password","error","seterror","isLoading","setIsLoading","handleChange","e","target","name","value","handleForm","preventDefault","post","then","res","set","data","token","type","payload","push","catch","err","response"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport Guest from \"../middleware/Guest\";\r\nimport GlobalContext from \"../store/global\";\r\n\r\nfunction Login() {\r\n  const [, dispatch] = useContext(GlobalContext);\r\n  const history = useHistory();\r\n  const [form, setform] = React.useState({ email: \"\", password: \"\" });\r\n  const [error, seterror] = React.useState(\"\");\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  function handleChange(e) {\r\n    setform({ ...form, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  function handleForm(e) {\r\n    e.preventDefault();\r\n    seterror(\"\");\r\n    setIsLoading(true);\r\n    axios\r\n      .post(\"/api/login?delay=1\", form)\r\n      .then((res) => {\r\n        Cookies.set(\"token\", res.data.token);\r\n        dispatch({ type: \"SET_LOGIN\", payload: res.data.token });\r\n        history.push(\"/\");\r\n        // window.location.href = \"/\";\r\n        // setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        seterror(err.response.data.error);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex justify-center\">\r\n      <form\r\n        className=\"w-1/2 bg-gray-100 border rounded shadow py-10 text-center\"\r\n        onSubmit={handleForm}\r\n      >\r\n        <h1 className=\"text-3xl\">Login Here</h1>\r\n        <p className=\"my-5 text-red-700 text-xs\">{error}</p>\r\n        <div className=\"flex justify-center\">\r\n          <input\r\n            type=\"email\"\r\n            name=\"sakshi@206@gmail.com\"\r\n            placeholder=\"Enter your email\"\r\n            className=\"p-2 border border-gray-800 w-64\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n        <div className=\"my-5 flex justify-center\">\r\n          <input\r\n            type=\"password\"\r\n            name=\"12345\"\r\n            placeholder=\"Enter your password\"\r\n            className=\"p-2 border border-gray-800 my-4 w-64\"\r\n            onChange={handleChange}\r\n            value={form.password}\r\n          />\r\n        </div>\r\n        <button\r\n          className={`w-64 text-white p-2 my-5 ${\r\n            isLoading ? \"bg-blue-500\" : \"bg-blue-700\"\r\n          }`}\r\n          disabled={isLoading}\r\n        >\r\n          {isLoading ? (\r\n            <i className=\"fas fa-circle-notch fa-spin\"></i>\r\n          ) : (\r\n            \"Login\"\r\n          )}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Guest(Login);"]},"metadata":{},"sourceType":"module"}